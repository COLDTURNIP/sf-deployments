#
# Copyright (C) 2019 IBM Corporation.
#
# Authors:
# Frederico Araujo <frederico.araujo@ibm.com>
# Teryl Taylor <terylt@ibm.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Template values for sf-exporter-chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

registry:
  secretName: ""

# sysflow collection probe parameters
sfcollector:
  # image repository
  repository: sysflowtelemetry/sf-collector
  # image tag
  tag: latest
  # timeout in seconds to start roll a new trace files
  interval: 300
  # output directory, where traces are written to inside container
  outDir: /mnt/data/
  # collection filter
  filter: "\"container.type!=host and container.type=docker and container.name!=sfexporter and container.name!=sfcollector\""
# sysflow exporter parameters
sfexporter:
  # image repository
  repository: sysflowtelemetry/sf-exporter
  # image tag
  tag: latest
  # export inverval
  interval: 30
  # directory where traces are read from inside container
  outDir: /mnt/data/
  # object store address (overhidden by install script)
  s3Endpoint: "<ip address>"
  # object store port
  s3Port: 9000
  # object store bucket where to push traces
  s3Bucket: sysflow-bucket
  # object store location (overhidden by install script)
  s3Location: us-south
  # object store access key (overhidden by install script)
  s3AccessKey: "<s3_access_key>"
  # object store secret key (overhidden by install script)
  s3SecretKey: "<s3_secret_key>"
  # object store connection, 'true' if TLS-enabled, 'false' otherwise
  s3Secure: "false"

nameOverride: "sfexporter"
fullnameOverride: ""
tmpfsSize: 500Mi # size of tmpfs shared volume between collector and exporter (where traces are written)

## @param resources - object - optional
## Resource requests and limits for the kube-state-metrics container.
#
resources: {}
#  requests:
#    cpu: 600m
#    memory: 512Mi
#  limits:
#    cpu: 2000m
#    memory: 1536Mi
   
## @param nodeSelector - object - optional
## Allow the ClusterChecks Deployment to schedule on selected nodes
## Ref: https://kubernetes.io/docs/user-guide/node-selection/
#
# nodeSelector: {}

## @param tolerations - array - required
## Tolerations for pod assignment
## Ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
#
# tolerations: []

## @param affinity - object - optional
## Allow the ClusterChecks Deployment to schedule using affinity rules.
## By default, ClusterChecks Deployment Pods are forced to run on different Nodes.
## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
#
# affinity: {}
